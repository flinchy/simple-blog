<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>A simple Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="https://bootswatch.com/4/simplex/bootstrap.min.css"> -->
    <link rel="stylesheet" href="../public/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="../public/custom.css">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          
            <div class="collapse navbar-collapse" id="navbarColor03">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="welcome.html">Blog</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">About</a>
                </li>
              </ul>

              <li class="navbar-nav nav-item dropdown">
                  <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Dashboard</a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="post/index.html"><i class="fas fa-blog"></i> Post</a>
                    <a class="dropdown-item" href="#"><i class="fas fa-cog"></i> settings</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Separated link</a>
                  </div>
                </li>

              <ul class="form-inline my-2 my-lg-0">    
                <li class=" navbar-nav nav-item">
                    <a class="nav-link" href="#">Join The Community</a>
                </li>  
              </ul>
            </div>
        </nav>
          
    </header>

    <div class="container">
      <div class="row">
        <div class="col-sm-8" id="allPost">
        
        </div>
        <div class="col-sm-4">
            <div class="card">
              <img src="https://webassets.mongodb.com/_com_assets/cms/mongodb_logo1-76twgcu2dm.png" class="card-img-top" alt="IMG">
              <div class="card-body">
                <h5 class="card-title">Node js</h5>
                <p class="card-text">This is another card with title and supporting text below. This card has some additional content to make it slightly taller overall.</p>
                <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
              </div>
            </div>
           
          <div class="card">
            <img src="https://nodejs.org/static/images/logo.svg" class="card-img-top" alt="IMG">
            <div class="card-body">
              <h5 class="card-title">Node js</h5>
              <p class="card-text">This is another card with title and supporting text below. This card has some additional content to make it slightly taller overall.</p>
              <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="../public/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
 
    <script>
    $(document).ready(function() {
      $.ajax({
      url: 'http://localhost:3000/posts',
      method: 'GET',
      dataType: 'json',
      // data: {
      //   test: 'test data'
      // },
      success: function(data) {
        $(data).each(function(i, post) {
          $('#allPost').append(`
        
            <div class="card">
            <img class="card-img-top" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhMi4lt0nq0pzDxm8pJlKysyD8hiAMiM9pDm2k-Ot_U6ViY7L6" alt="IMG">
            <div class="card-header">
              <span class="text-muted"><i class="far fa-user"></i> ${post.author}</span>  |
              <span class="text-muted"><small>23 hours ago</small></span>  |
              <span class="text-muted"><small>2 </small><i class="far fa-comment"></i></span> |
              <span class="text-muted"><small>3 </small><i class="far fa-heart"></i></span>
            </div>
            <div class="card-body">
              <h2 class="card-title">${post.title}</h2>
              <p class="card-text">${post.body}</p>
              <a href="single.html" class="btn btn-outline-success btn-sm" data-pid="`+post.id+`">Read More</a>
            </div>
            </div>


          `)
        });
      }
    });
    });
    </script>
    
    <script src="app.js"></script>

</body>
</html>
